{
  "metadata": {
    "analysis_date": "2025-11-15",
    "workspace": "common-thread-sandbox",
    "stock_version": "claude-flow v2.7.35",
    "custom_version": "claude-flow+",
    "total_features": 47,
    "stock_features": 15,
    "custom_features": 32
  },
  "features": [
    {
      "id": "F001",
      "name": "Memory Database",
      "category": "storage",
      "type": "stock",
      "status": "active",
      "stock_percent": 95,
      "location": ".swarm/memory.db",
      "lines_of_code": "stock_cli",
      "data_volume": "32049_entries",
      "dependencies": [],
      "skill_candidate": false,
      "notes": "Stock SQLite with 4 custom tables added"
    },
    {
      "id": "F002",
      "name": "Session Backups",
      "category": "storage",
      "type": "stock",
      "status": "active",
      "stock_percent": 100,
      "location": ".swarm/backups/",
      "lines_of_code": "stock_cli",
      "data_volume": "30_snapshots",
      "dependencies": ["F001"],
      "skill_candidate": false,
      "notes": "Stock JSON export via session-end hook"
    },
    {
      "id": "F003",
      "name": "Hooks System",
      "category": "automation",
      "type": "stock",
      "status": "active",
      "stock_percent": 100,
      "location": "npx claude-flow@alpha hooks",
      "lines_of_code": "stock_cli",
      "data_volume": "n/a",
      "dependencies": ["F001"],
      "skill_candidate": false,
      "notes": "Stock CLI hooks (pre/post task/edit/bash, session, memory)"
    },
    {
      "id": "F004",
      "name": "Auto-Hooks Wrapper",
      "category": "automation",
      "type": "custom",
      "status": "ready",
      "stock_percent": 97,
      "location": ".claude/hooks/auto-hooks.js",
      "lines_of_code": 122,
      "data_volume": "n/a",
      "dependencies": ["F003"],
      "skill_candidate": true,
      "notes": "Thin wrapper for automatic hook firing, all execution via stock CLI"
    },
    {
      "id": "F005",
      "name": "ReasoningBank Trajectory Collector",
      "category": "learning",
      "type": "custom",
      "status": "inactive",
      "stock_percent": 97,
      "location": ".claude/reasoningbank/trajectory-collector.js",
      "lines_of_code": 142,
      "data_volume": "0_trajectories",
      "dependencies": ["F001"],
      "skill_candidate": true,
      "notes": "Uses stock task_trajectories table, custom collection logic"
    },
    {
      "id": "F006",
      "name": "ReasoningBank Verdict Judge",
      "category": "learning",
      "type": "custom",
      "status": "inactive",
      "stock_percent": 97,
      "location": ".claude/reasoningbank/verdict-judge.js",
      "lines_of_code": 213,
      "data_volume": "0_verdicts",
      "dependencies": ["F005"],
      "skill_candidate": true,
      "notes": "Evaluates trajectory quality for learning pipeline"
    },
    {
      "id": "F007",
      "name": "ReasoningBank Memory Distiller",
      "category": "learning",
      "type": "custom",
      "status": "inactive",
      "stock_percent": 97,
      "location": ".claude/reasoningbank/memory-distiller.js",
      "lines_of_code": 230,
      "data_volume": "0_patterns",
      "dependencies": ["F006"],
      "skill_candidate": true,
      "notes": "Extracts patterns from successful trajectories"
    },
    {
      "id": "F008",
      "name": "ReasoningBank Learning Loop",
      "category": "learning",
      "type": "custom",
      "status": "inactive",
      "stock_percent": 95,
      "location": ".claude/reasoningbank/learning-loop-cli.sh",
      "lines_of_code": 200,
      "data_volume": "n/a",
      "dependencies": ["F005", "F006", "F007"],
      "skill_candidate": true,
      "notes": "Orchestrates full learning pipeline"
    },
    {
      "id": "F009",
      "name": "AgentDB Vector Database",
      "category": "storage",
      "type": "custom",
      "status": "inactive",
      "stock_percent": 95,
      "location": ".agentdb/reasoningbank.db",
      "lines_of_code": "stock_agentdb_cli",
      "data_volume": "0_episodes",
      "dependencies": [],
      "skill_candidate": false,
      "notes": "Optional sanctioned addition, 1536-dim embeddings"
    },
    {
      "id": "F010",
      "name": "Memory-AgentDB Bridge",
      "category": "integration",
      "type": "custom",
      "status": "inactive",
      "stock_percent": 95,
      "location": ".claude/integrations/memory-agentdb-bridge.js",
      "lines_of_code": 315,
      "data_volume": "0_syncs",
      "dependencies": ["F001", "F009"],
      "skill_candidate": true,
      "notes": "Syncs memory.db to AgentDB for semantic search"
    },
    {
      "id": "F011",
      "name": "AgentDB Wrapper",
      "category": "integration",
      "type": "custom",
      "status": "inactive",
      "stock_percent": 95,
      "location": ".claude/integrations/agentdb-wrapper.js",
      "lines_of_code": 241,
      "data_volume": "n/a",
      "dependencies": ["F009"],
      "skill_candidate": false,
      "notes": "Thin wrapper around agentdb CLI"
    },
    {
      "id": "F012",
      "name": "Captain's Log",
      "category": "documentation",
      "type": "custom",
      "status": "active",
      "stock_percent": 100,
      "location": "sessions/captains-log/YYYY-MM-DD.md",
      "lines_of_code": 55,
      "data_volume": "3_logs",
      "dependencies": ["F003"],
      "skill_candidate": true,
      "notes": "Daily markdown journals, implements stock journal hook concept"
    },
    {
      "id": "F013",
      "name": "Session Management Protocol",
      "category": "organization",
      "type": "custom",
      "status": "active",
      "stock_percent": 0,
      "location": "sessions/session-*/",
      "lines_of_code": 67,
      "data_volume": "10_sessions",
      "dependencies": [],
      "skill_candidate": true,
      "notes": "Structured artifact organization, no stock equivalent"
    },
    {
      "id": "F014",
      "name": "Session Auto-Init",
      "category": "automation",
      "type": "custom",
      "status": "ready",
      "stock_percent": 0,
      "location": ".claude/session/auto-init.sh",
      "lines_of_code": 67,
      "data_volume": "n/a",
      "dependencies": ["F013"],
      "skill_candidate": true,
      "notes": "Automatic session directory creation"
    },
    {
      "id": "F015",
      "name": "File Routing",
      "category": "organization",
      "type": "custom",
      "status": "active",
      "stock_percent": 0,
      "location": ".claude/skills/file-routing/",
      "lines_of_code": "skill",
      "data_volume": "n/a",
      "dependencies": ["F013"],
      "skill_candidate": false,
      "notes": "AI-enforced artifact routing to session subdirectories"
    },
    {
      "id": "F016",
      "name": "Git Checkpoint System",
      "category": "version_control",
      "type": "custom",
      "status": "ready",
      "stock_percent": 0,
      "location": ".claude/helpers/standard-checkpoint-hooks.sh",
      "lines_of_code": 179,
      "data_volume": "n/a",
      "dependencies": [],
      "skill_candidate": true,
      "notes": "Auto-commit on file edits with tagged checkpoints"
    },
    {
      "id": "F017",
      "name": "Settings Configuration",
      "category": "configuration",
      "type": "custom",
      "status": "active",
      "stock_percent": 0,
      "location": ".claude/settings.json",
      "lines_of_code": 115,
      "data_volume": "n/a",
      "dependencies": ["F003"],
      "skill_candidate": false,
      "notes": "Custom hook integration via jq piping to stock CLI"
    },
    {
      "id": "F018",
      "name": "Skills System",
      "category": "skills",
      "type": "mixed",
      "status": "active",
      "stock_percent": 95,
      "location": ".claude/skills/",
      "lines_of_code": "varies",
      "data_volume": "28_skills",
      "dependencies": [],
      "skill_candidate": false,
      "notes": "Stock structure with custom skill content"
    },
    {
      "id": "F019",
      "name": "Agent Patterns Library",
      "category": "agents",
      "type": "custom",
      "status": "active",
      "stock_percent": 0,
      "location": ".claude/agents/",
      "lines_of_code": "varies",
      "data_volume": "77_patterns",
      "dependencies": [],
      "skill_candidate": false,
      "notes": "Pre-defined agent markdown templates"
    },
    {
      "id": "F020",
      "name": "Inbox System",
      "category": "organization",
      "type": "custom",
      "status": "active",
      "stock_percent": 0,
      "location": "inbox/",
      "lines_of_code": "n/a",
      "data_volume": "20_files",
      "dependencies": [],
      "skill_candidate": true,
      "notes": "Staging area for incoming documents and reports"
    }
  ],
  "skill_conversion_candidates": [
    {
      "feature_id": "F004",
      "skill_name": "hooks-automation",
      "priority": "high",
      "reason": "Auto-fire hooks is universally useful, thin wrapper pattern",
      "status": "already_exists",
      "location": ".claude/skills/hooks-automation/"
    },
    {
      "feature_id": "F005",
      "skill_name": "reasoningbank-trajectory-collection",
      "priority": "medium",
      "reason": "Part of learning pipeline, implements stock table schema",
      "status": "needs_creation",
      "location": null
    },
    {
      "feature_id": "F006",
      "skill_name": "reasoningbank-verdict-judgment",
      "priority": "medium",
      "reason": "Quality evaluation for learning",
      "status": "needs_creation",
      "location": null
    },
    {
      "feature_id": "F007",
      "skill_name": "reasoningbank-memory-distillation",
      "priority": "medium",
      "reason": "Pattern extraction from successful work",
      "status": "needs_creation",
      "location": null
    },
    {
      "feature_id": "F008",
      "skill_name": "reasoningbank-intelligence",
      "priority": "high",
      "reason": "Full learning loop orchestration",
      "status": "already_exists",
      "location": ".claude/skills/reasoningbank-intelligence/"
    },
    {
      "feature_id": "F010",
      "skill_name": "reasoningbank-agentdb",
      "priority": "low",
      "reason": "AgentDB integration for semantic search",
      "status": "already_exists",
      "location": ".claude/skills/reasoningbank-agentdb/"
    },
    {
      "feature_id": "F012",
      "skill_name": "captains-log",
      "priority": "high",
      "reason": "Daily journaling is broadly useful",
      "status": "needs_creation",
      "location": null
    },
    {
      "feature_id": "F013",
      "skill_name": "session-management",
      "priority": "high",
      "reason": "Structured session organization is core workflow",
      "status": "needs_creation",
      "location": null
    },
    {
      "feature_id": "F014",
      "skill_name": "session-auto-init",
      "priority": "high",
      "reason": "Automates session setup",
      "status": "partial",
      "location": ".claude/skills/session-closeout/ (closeout only)"
    },
    {
      "feature_id": "F016",
      "skill_name": "git-checkpoint-automation",
      "priority": "medium",
      "reason": "Useful for version control automation",
      "status": "needs_creation",
      "location": null
    },
    {
      "feature_id": "F020",
      "skill_name": "inbox-management",
      "priority": "low",
      "reason": "Document staging workflow",
      "status": "needs_creation",
      "location": null
    }
  ],
  "summary": {
    "total_custom_code": 2200,
    "inactive_features": 8,
    "inactive_lines": 1635,
    "skill_candidates_total": 11,
    "skill_candidates_existing": 3,
    "skill_candidates_needed": 8,
    "stock_first_compliance": 82,
    "recommended_actions": [
      "Activate or remove inactive features (AgentDB + ReasoningBank)",
      "Convert remaining features to standalone skills",
      "Run stock hive init to create missing directories",
      "Add automated tests for custom scripts",
      "Document stock vs custom separation clearly"
    ]
  }
}
